<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blog</title>
  <!-- main css file -->
  <link rel="stylesheet" href="../css/style.css">
  <!-- normalize css file -->
  <link rel="stylesheet" href="../css/normalize.css">
  <!-- font awesome icon css file -->
  <link rel="stylesheet" href="../css/all.min.css">
  <!-- font Rubik -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet">
</head>

<body>
  <span class="up"><i class="fa-solid fa-arrow-turn-up"></i></span>

  <header>
    <div class="container">
      <div class="hidden-one">
        <span></span><span></span><span></span>
      </div>
      <ul>
        <div class="hidden-two">
          <span></span><span></span><span></span>
        </div>
        <li><a href="../index.html">الصفحة الرئيسية</a></li>
        <li><a href="../index.html#srvs">الخدمات</a></li>
        <li><a href="html/Projects.html">اعمالي</a></li>
        <li><a href="Blog.html">المدونة</a></li>
        <li><a class="active" href="Contact-Me.html">تواصل معي</a></li>
      </ul>
      <div class="logo"><a href="#">مصطفى</a></div>
    </div>
  </header>
  <div class="Contact">
    <div class="container">
      <div class="contact-text">
        <p>تواصل معانا</p>
        <div class="bottom">
          <h1>تواصل معي الآن</h1>
          <p>تواصل معي للحصول على الدعم، سأكون سعيداً بالإجابة على أسئلتكم.</p>
        </div>

      </div>
      <form>
        <input placeholder="الاسم الاول" type="text" id="first">
        <input placeholder="الاسم الاخير" type="text" id="last">
        <input placeholder="حساب الجيميل" type="email" id="email">
        <textarea placeholder="كيف يمكنني مساعدتك؟" id="help" rows="3"></textarea>
        <hr>
        <button id="btn" onclick="Send()">إرسال</button>
      </form>
    </div>
  </div>
  <footer>
    <div class="container">

    </div>
  </footer>
  <script src="https://smtpjs.com/v3/smtp.js"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <script>// start valid form
    let firstName = document.getElementById("first");
    let lastName = document.getElementById("last");
    let emailValid = document.getElementById("email");
    let order = document.getElementById("help");
    let submit = document.getElementById("btn");
    let reg = /^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/;

    firstName.onblur = () => {
      if (firstName.value === "") {
        firstName.style.borderColor = "red";
      } else {
        firstName.style.borderColor = "green";
      }
    };

    lastName.onblur = () => {
      if (lastName.value === "") {
        lastName.style.borderColor = "red";
      } else {
        lastName.style.borderColor = "green";
      }
    };

    order.onblur = () => {
      if (order.value === "") {
        order.style.borderColor = "red";
      } else {
        order.style.borderColor = "green";
      }
    };

    emailValid.onchange = function () {
      if (emailValid.value.match(reg)) {
        emailValid.style.borderColor = "green";
      } else {
        emailValid.style.borderColor = "red";
      }
    };
    submit.addEventListener("click", (e) => {
      e.preventDefault();
    });
    function Send() {
      let name = `${document.getElementById("first").value} ${document.getElementById("last").value
        }`;
      let email = document.getElementById("email").value;
      let mess = document.getElementById("help").value;
      let body = `Name: ${name} <br/> Email: ${email} <br/> Message: ${mess}`;
      Email.send({
        SecureToken: "51eff55e-d31b-45cb-93ce-e9b9a112ef6b",
        To: "almtabynrsayl@gmail.com",
        From: "almtabynrsayl@gmail.com",
        Subject: "Questions Followers",
        Body: body,
      }).then((message) => {
        if (
          message == "OK" &&
          emailValid.value.match(reg) &&
          firstName.value !== "" &&
          lastName.value !== "" &&
          order.value !== ""
        ) {
          swal("عملية ناجحة", "تم إرسال رسالتك بنجاح", "success");
        } else {
          swal(
            "عملية فاشلة",
            "حدث خطأ ما، يرجي ملئ جميع الحقول بشكل صحيح",
            "error"
          );
        }
      });
    }</script>
  <script src="../js/main.js"></script>
</body>

</html>